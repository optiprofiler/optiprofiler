Current setup.m Functionality Summary:

1.  **Environment Checks**:
    *   Verifies MATLAB version is R2021b (9.11) or newer.
    *   Checks for write permissions in the installation directory.

2.  **Path Definitions** (Based on current directory structure):
    *   `setup_dir`: Root of the script.
    *   `mat_dir`: `setup_dir/matlab`
    *   `op_dir`: `setup_dir/matlab/optiprofiler`
    *   `src_dir`: `setup_dir/matlab/optiprofiler/src`
    *   `plib_dir`: `setup_dir/matlab/optiprofiler/problem_libs`
    *   `s2mpj_dir`: `setup_dir/matlab/optiprofiler/problem_libs/s2mpj`
    *   `matcutest_dir`: `setup_dir/matlab/optiprofiler/problem_libs/matcutest`

3.  **Input Parsing**:
    *   Accepts 'install' (default) or 'uninstall'.
    *   *Bug*: Parses an `options` structure but fails to return it to the main function. (REMOVE this)

4.  **Uninstall Action**:
    *   Removes `src_dir`, `s2mpj_dir`, and `matcutest_dir` from the MATLAB path.
    *   Saves the path configuration.
    *   Edits `startup.m` to remove any `addpath` commands previously added by this script.

5.  **Install Action**:
    *   **S2MPJ Setup**:
        *   Locate S2MPJ source in Python directory: `../../python/optiprofiler/problem_libs/s2mpj/src`.
        *   Attempt to copy this source to `matlab/optiprofiler/problem_libs/s2mpj`.
        *   If copy fails, prompt user to manually copy.
        *   Verify `matlab/optiprofiler/problem_libs/s2mpj/src` exists; proceed only if successful.
    *   **MatCUTEst Setup (Linux only)**:
        *   Check if OS is Linux (and not Mac). If not, print "MatCUTEst is not supported on this OS".
        *   If Linux:
            *   Check if MatCUTEst is already installed (e.g., by checking if `matcutest` is in path or `help matcutest` returns content).
            *   If installed, print "MatCUTEst already installed".
            *   If not installed, prompt user (Y/N) to download and install.
            *   If 'Y':
                *   Clone `https://github.com/matcutest/matcutest_compiled.git` to `matlab/optiprofiler/problem_libs/matcutest`.
                *   Rename the cloned folder/content to `src` (or ensure structure matches expectation).
                *   Run internal installation script (details TBD).
    *   **Path Configuration**:
        *   Add `src_dir`, `s2mpj_dir`, and `matcutest_dir` (if applicable) to the MATLAB path.
    *   **Persistence**:
        *   Tries to use `savepath` to make changes permanent.
        *   If `savepath` fails (e.g., due to permissions), appends `addpath` commands to the user's `startup.m`.

6.  **Helper Functions**:
    *   `add_save_path`: Handles adding paths and saving them (via `savepath` or `startup.m`).
    *   `del_str_ln`: Removes specific lines from a file (used for cleaning `startup.m`).
